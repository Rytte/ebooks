<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>📘 Ebook Library</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header class="page-header">
        <h1>📘 Ebook Library</h1>
        <p class="subtitle">Explore your curated collection of digital books</p>
    </header>

    <div id="bookshelf" class="tree-view"></div>

    <script src="bookshelf.js"></script>
    <script>
        function renderTreeList(nodes) {
            const ul = document.createElement("ul");

            nodes.forEach(node => {
                const li = document.createElement("li");

                if (node.type === "folder") {
                    li.className = "folder collapsed";

                    const label = document.createElement("span");
                    label.textContent = "📁 " + node.name;
                    label.className = "folder-label";
                    label.onclick = () => {
                        li.classList.toggle("collapsed");
                    };

                    li.appendChild(label);
                    const subTree = renderTreeList(node.children);
                    li.appendChild(subTree);
                } else if (node.type === "file") {
                    li.className = "file";
                    const link = document.createElement("a");
                    link.href = node.path;
                    link.textContent = "📄 " + node.name;
                    link.target = "_blank";
                    li.appendChild(link);
                }

                ul.appendChild(li);
            });

            return ul;
        }

        document.addEventListener("DOMContentLoaded", () => {
            const container = document.getElementById("bookshelf");
            const tree = renderTreeList(ebookTree); // 来自 bookshelf.js
            container.appendChild(tree);
        });
    </script>
</body>
</html>
